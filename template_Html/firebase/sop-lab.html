<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOP Laboratorium - LabConnect</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- jsPDF Library for PDF Generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Custom styles to match the theme */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f9fafb; /* Lighter Gray Background */
            color: #1a202c;
        }
        .font-headline {
            font-weight: 800;
            letter-spacing: -0.025em;
        }
        .text-primary {
            color: #4f46e5;
        }
        .bg-primary {
            background-color: #4f46e5;
        }
        .text-primary-foreground {
            color: #ffffff;
        }
        .text-foreground-80 {
            color: #4a5568;
        }
        .text-muted-foreground {
            color: #6b7280;
        }
        .accordion-content {
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
            max-height: 0;
        }
        .accordion-trigger svg {
            transition: transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="antialiased flex flex-col min-h-screen">

    <!-- Header & Navigation -->
    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-40 border-b border-gray-200">
        <div class="container mx-auto px-4 md:px-6">
            <nav class="flex items-center justify-between h-16">
                <a href="#" class="text-xl font-bold text-primary">LabConnect</a>
                <div>
                     <a href="research-exploration-page.html" class="inline-flex items-center justify-center rounded-md bg-transparent text-primary px-4 py-2 text-sm font-medium border border-primary transition-colors hover:bg-primary/10">
                        Eksplorasi Riset
                    </a>
                </div>
            </nav>
        </div>
    </header>

    <main class="flex-1 py-12 md:py-24">
        <div class="container mx-auto px-4 md:px-6">
            <div class="text-center mb-12">
                <h1 class="text-4xl font-bold tracking-tighter sm:text-5xl text-primary font-headline">
                    Standar Operasional Prosedur (SOP)
                </h1>
                <p class="max-w-[700px] mx-auto text-foreground-80 md:text-xl mt-4">
                    Panduan penting untuk memastikan keselamatan, efisiensi, dan integritas penelitian di laboratorium kami.
                </p>
            </div>

            <div class="max-w-4xl mx-auto space-y-8">
                <!-- Download SOP Card -->
                <div class="rounded-lg border bg-white shadow-sm p-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
                    <div class="flex items-center gap-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 text-primary flex-shrink-0"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><line x1="10" x2="8" y1="9" y2="9"/></svg>
                        <div>
                            <h2 class="text-lg font-semibold">Dokumen SOP Laboratorium</h2>
                            <p class="text-sm text-muted-foreground">Setiap pengguna laboratorium wajib memahami dan mematuhi SOP yang berlaku.</p>
                        </div>
                    </div>
                    <button id="downloadPdfBtn" class="w-full sm:w-auto inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow-sm transition-colors hover:bg-primary/90">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 mr-2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
                        Unduh PDF
                    </button>
                </div>

                <!-- Accordion Container -->
                <div id="sop-accordion" class="space-y-2">
                    <!-- Accordion Item 1 -->
                    <div class="rounded-lg border bg-white shadow-sm">
                        <button class="accordion-trigger w-full flex justify-between items-center p-6 text-left font-semibold">
                            <span class="flex items-center gap-3">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 text-primary"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9Z"/><polyline points="13 2 13 9 20 9"/><path d="M10.15 12.9a1.46 1.46 0 0 0-2.3.4L6 16.9"/><path d="m14 19-2-2-1.5-1.5"/><path d="M10.15 12.9C12.47 11.25 16.33 11.2 18 13"/><path d="m14 19c2.3-1.65 6.17-1.6 7.82.05"/></svg>
                                Prosedur Keselamatan Umum
                            </span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 shrink-0"><path d="m6 9 6 6 6-6"/></svg>
                        </button>
                        <div class="accordion-content">
                            <div class="p-6 pt-0 text-foreground-80">
                                <ul class="list-disc space-y-2 pl-5">
                                    <li>Selalu kenakan Alat Pelindung Diri (APD) yang sesuai, termasuk jas lab, kacamata pengaman, dan sarung tangan.</li>
                                    <li>Ketahui lokasi peralatan keselamatan seperti pemadam api, pancuran keselamatan (safety shower), dan kotak P3K.</li>
                                    <li>Dilarang makan, minum, atau merokok di dalam area laboratorium.</li>
                                    <li>Jaga kebersihan area kerja. Bersihkan tumpahan bahan kimia dengan segera sesuai prosedur.</li>
                                    <li>Laporkan setiap insiden atau kecelakaan kepada kepala laboratorium atau penanggung jawab.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- Accordion Item 2 -->
                    <div class="rounded-lg border bg-white shadow-sm">
                        <button class="accordion-trigger w-full flex justify-between items-center p-6 text-left font-semibold">
                           <span class="flex items-center gap-3">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 text-primary"><path d="M8.5 2h7"/><path d="M6 22V8.5c0-1.4 1.1-2.5 2.5-2.5h5c1.4 0 2.5 1.1 2.5 2.5V22"/><path d="M2 22h20"/></svg>
                                Penanganan Bahan Kimia
                           </span>
                           <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 shrink-0"><path d="m6 9 6 6 6-6"/></svg>
                        </button>
                        <div class="accordion-content">
                            <div class="p-6 pt-0 text-foreground-80">
                                <ul class="list-disc space-y-2 pl-5">
                                    <li>Baca Lembar Data Keselamatan Bahan (MSDS/LDKB) sebelum menggunakan bahan kimia baru.</li>
                                    <li>Beri label yang jelas pada semua wadah bahan kimia.</li>
                                    <li>Gunakan lemari asam (fume hood) saat bekerja dengan bahan kimia yang mudah menguap atau beracun.</li>
                                    <li>Jangan pernah mencampur bahan kimia secara sembarangan. Ikuti prosedur yang telah ditetapkan.</li>
                                    <li>Buang limbah kimia pada wadah yang telah ditentukan sesuai dengan klasifikasinya.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- Accordion Item 3 -->
                    <div class="rounded-lg border bg-white shadow-sm">
                        <button class="accordion-trigger w-full flex justify-between items-center p-6 text-left font-semibold">
                            <span class="flex items-center gap-3">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 text-primary"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                                Penggunaan Peralatan
                            </span>
                           <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 shrink-0"><path d="m6 9 6 6 6-6"/></svg>
                        </button>
                        <div class="accordion-content">
                            <div class="p-6 pt-0 text-foreground-80">
                                <ul class="list-disc space-y-2 pl-5">
                                    <li>Hanya gunakan peralatan yang Anda sudah terlatih untuk mengoperasikannya.</li>
                                    <li>Periksa kondisi peralatan sebelum digunakan. Laporkan kerusakan apa pun kepada teknisi.</li>
                                    <li>Ikuti buku manual atau instruksi kerja untuk setiap peralatan.</li>
                                    <li>Matikan peralatan setelah selesai digunakan dan bersihkan sesuai prosedur.</li>
                                    <li>Catat penggunaan peralatan pada buku log yang tersedia.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                     <!-- Accordion Item 4 -->
                    <div class="rounded-lg border bg-white shadow-sm">
                        <button class="accordion-trigger w-full flex justify-between items-center p-6 text-left font-semibold">
                           <span class="flex items-center gap-3">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 text-primary"><path d="m13 2-3 14 3 6 3-6-3-14Z"/><path d="M2 18h20"/><path d="M15 18a3 3 0 1 0-6 0"/></svg>
                                Keadaan Darurat
                            </span>
                           <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 shrink-0"><path d="m6 9 6 6 6-6"/></svg>
                        </button>
                        <div class="accordion-content">
                             <div class="p-6 pt-0 text-foreground-80">
                                <ul class="list-disc space-y-2 pl-5">
                                    <li>Jika terjadi kebakaran, aktifkan alarm, gunakan pemadam api jika aman, dan evakuasi melalui jalur yang ditentukan.</li>
                                    <li>Jika terjadi tumpahan bahan kimia, isolasi area, gunakan spill kit yang sesuai, dan ikuti petunjuk MSDS.</li>
                                    <li>Jika terjadi kontak dengan bahan kimia berbahaya, segera gunakan pancuran keselamatan atau pencuci mata (eyewash) selama minimal 15 menit.</li>
                                    <li>Ketahui nomor telepon darurat internal dan eksternal.</li>
                                    <li>Ikuti arahan dari tim tanggap darurat.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-auto">
        <div class="container mx-auto py-8 px-4 md:px-6 text-center">
            <p>&copy; 2024 LabConnect. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- ACCORDION LOGIC ---
            const accordionContainer = document.getElementById('sop-accordion');
            if(accordionContainer) {
                const triggers = accordionContainer.querySelectorAll('.accordion-trigger');
                triggers.forEach(trigger => {
                    trigger.addEventListener('click', function () {
                        const content = this.nextElementSibling;
                        const icon = this.querySelector('svg:last-child');
                        
                        // Toggle active state
                        const isActive = this.classList.toggle('active');
                        
                        if(isActive) {
                            content.style.maxHeight = content.scrollHeight + 'px';
                            icon.style.transform = 'rotate(180deg)';
                        } else {
                            content.style.maxHeight = '0px';
                            icon.style.transform = 'rotate(0deg)';
                        }
                    });
                });
            }

            // --- PDF DOWNLOAD LOGIC ---
            const downloadButton = document.getElementById('downloadPdfBtn');
            downloadButton.addEventListener('click', function() {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                
                let y = 15; // Initial y position
                const pageHeight = doc.internal.pageSize.height;
                const margin = 15;
                const maxWidth = doc.internal.pageSize.width - margin * 2;

                function addHeader(text, size) {
                    if (y > pageHeight - 30) {
                        doc.addPage();
                        y = 15;
                    }
                    doc.setFontSize(size);
                    doc.setFont(undefined, 'bold');
                    doc.text(text, margin, y);
                    y += size * 0.5 + 4; // space after header
                }

                function addText(text) {
                     if (y > pageHeight - 20) {
                        doc.addPage();
                        y = 15;
                    }
                    doc.setFontSize(10);
                    doc.setFont(undefined, 'normal');
                    const lines = doc.splitTextToSize(text, maxWidth);
                    doc.text(lines, margin + 5, y); // Indented
                    y += lines.length * 4.5;
                    y += 4; // Extra space
                }

                // Title
                doc.setFontSize(22);
                doc.setFont(undefined, 'bold');
                doc.text('Standar Operasional Prosedur (SOP)', doc.internal.pageSize.width / 2, y, { align: 'center' });
                y += 15;

                // Loop through accordion items to get content
                const accordionItems = document.querySelectorAll('#sop-accordion > div');
                accordionItems.forEach(item => {
                    const header = item.querySelector('.accordion-trigger span').textContent.trim();
                    const listItems = item.querySelectorAll('.accordion-content li');

                    addHeader(header, 14);

                    listItems.forEach(li => {
                        addText(`- ${li.textContent.trim()}`);
                    });
                    y += 5; // Space between sections
                });
                
                doc.save('SOP_Laboratorium_LabConnect.pdf');
            });
        });
    </script>
</body>
</html>
